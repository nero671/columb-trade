"use strict";

var app = {
  pathToLibsFiles: './assets/libs'
};
window.app = app; // polyfills
// before polyfills

(function (arr) {
  arr.forEach(function (item) {
    if (item.hasOwnProperty('before')) {
      return;
    }

    Object.defineProperty(item, 'before', {
      configurable: true,
      enumerable: true,
      writable: true,
      value: function before() {
        // eslint-disable-next-line prefer-rest-params
        var argArr = Array.prototype.slice.call(arguments);
        var docFrag = document.createDocumentFragment();
        argArr.forEach(function (argItem) {
          var isNode = argItem instanceof Node;
          docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));
        });
        this.parentNode.insertBefore(docFrag, this);
      }
    });
  });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]); // forEach polyfill


if (window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = function (callback, thisArg) {
    // eslint-disable-next-line no-param-reassign
    thisArg = thisArg || window;

    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

var modificationSlider = function modificationSlider() {
  /* eslint-disable-next-line */
  var modSwiper = new Swiper('.first-screen', {
    slidesPerView: 1,
    slidesPerGroup: 1,
    centeredSlides: true,
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    } // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

modificationSlider();

var useCarsSlider = function useCarsSlider() {
  /* eslint-disable-next-line */
  var modSwiper = new Swiper('.use-collection__slider', {
    slidesPerView: 2.6,
    slidesPerGroup: 1,
    spaceBetween: 100 // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

useCarsSlider();

var workProcessSliderMain = function workProcessSliderMain() {
  /* eslint-disable-next-line */
  var modSwiper = new Swiper('.work-proccess__slider-main', {
    slidesPerView: 1,
    slidesPerGroup: 1,
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true,

      /* eslint-disable-next-line */
      renderBullet: function renderBullet(index, className) {
        /* eslint-disable-next-line */
        return '<span class="' + className + '">' + (index + 1) + '</span>';
      }
    } // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

workProcessSliderMain();

var workProcessSlider = function workProcessSlider() {
  /* eslint-disable-next-line */
  var workProccesSwiper = new Swiper('.work-process__slider', {
    initialSlide: 4,
    effect: 'coverflow',
    centeredSlides: true,
    slidesPerView: 2.5,
    speed: 600,
    draggable: true,
    mousewheel: true,
    loop: true,
    coverflowEffect: {
      rotate: 50,
      stretch: 0,
      depth: 100,
      modifier: 1,
      slideShadows: true
    } // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

workProcessSlider();

var useTrustSlider = function useTrustSlider() {
  /* eslint-disable-next-line */
  var trustSwiper = new Swiper('.trust-header__slider', {
    slidesPerView: 8,
    slidesPerGroup: 1,
    clickable: true,
    navigation: {
      nextEl: '.swiper-button-next'
    } // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

useTrustSlider();

var teamSlider = function teamSlider() {
  /* eslint-disable-next-line */
  var teamSwiper = new Swiper('.team-wrapper', {
    slidesPerView: 3,
    spaceBetween: 40,
    initialSlide: 1,
    centeredSlides: true,
    clickable: true,
    loop: true,
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    } // breakpoints: {
    //   320: {
    //     slidesPerView: 1,
    //   },
    //   576: {
    //     slidesPerView: 1.5,
    //   },
    //   1000: {
    //     spaceBetween: 100,
    //     slidesPerView: 2.1,
    //   },
    //   1650: {
    //     slidesPerView: 2.1,
    //     slidesPerGroup: 1,
    //   },
    // },

  });
};

teamSlider();

var toggleTabs = function toggleTabs() {
  var usaCollectionTabHeaderItem = document.querySelectorAll('.usa-collection__tab-header_item');
  var usaCollectionTabContent = document.querySelectorAll('.usa-collection__tab-content');
  var main = document.querySelector('.main');
  var benefitsTabHeaderItem = document.querySelectorAll('.benefits-tab__header-item');
  var benefitsTabContentItem = document.querySelectorAll('.benefits-tab__content-item');
  var trustHeaderSlide = document.querySelectorAll('.trust-header__slide');
  var trustContentItem = document.querySelectorAll('.trust-content__item');

  var togglecollectionTab = function togglecollectionTab(index) {
    for (var i = 0; i <= usaCollectionTabContent.length; i++) {
      if (index === i) {
        usaCollectionTabContent[i].classList.add('active');
        usaCollectionTabHeaderItem[i].classList.add('active');
      } else {
        usaCollectionTabContent[i].classList.remove('active');
        usaCollectionTabHeaderItem[i].classList.remove('active');
      }
    }
  };

  var toggleBenefitsTab = function toggleBenefitsTab(index) {
    for (var i = 0; i <= benefitsTabContentItem.length; i++) {
      if (index === i) {
        benefitsTabContentItem[i].classList.add('active');
        benefitsTabHeaderItem[i].classList.add('active');
      } else {
        benefitsTabHeaderItem[i].classList.remove('active');
        benefitsTabContentItem[i].classList.remove('active');
      }
    }
  };

  var toggleTrustTab = function toggleTrustTab(index) {
    for (var i = 0; i <= trustContentItem.length; i++) {
      if (index === i) {
        trustHeaderSlide[i].classList.add('active');
        trustContentItem[i].classList.add('active');
      } else {
        trustHeaderSlide[i].classList.remove('active');
        trustContentItem[i].classList.remove('active');
      }
    }
  };

  main.addEventListener('click', function (e) {
    e.preventDefault();
    /* eslint-disable-next-line */

    var target = e.target;

    if (target.closest('.usa-collection__tab-header_item')) {
      usaCollectionTabHeaderItem.forEach(function (item, i) {
        if (item === target.closest('.usa-collection__tab-header_item')) {
          togglecollectionTab(i);
        }
      });
    } else if (target.closest('.benefits-tab__header-item')) {
      benefitsTabHeaderItem.forEach(function (item, i) {
        if (item === target.closest('.benefits-tab__header-item')) {
          toggleBenefitsTab(i);
        }
      });
    } else if (target.closest('.trust-header__slide')) {
      trustHeaderSlide.forEach(function (item, i) {
        if (item === target.closest('.trust-header__slide')) {
          toggleTrustTab(i);
          console.log('hi');
        }
      });
    }
  });
};

toggleTabs();

var toggleBidPopup = function toggleBidPopup() {
  var main = document.querySelector('.main');
  var bidPopup = document.querySelector('.bid-popup');
  main.addEventListener('click', function (e) {
    if (e.target.closest('.benefits-tab__btn') || e.target.closest('.card-btn')) {
      bidPopup.style.display = 'block';
    }
  });
  bidPopup.addEventListener('click', function (e) {
    if (e.target.classList.contains('bid-popup__wrapper') || e.target.closest('.form-cross')) {
      bidPopup.style.display = 'none';
    }
  });
};

toggleBidPopup();

var ports = function ports() {
  var tooltip = document.querySelectorAll('.tooltip');
  var map = document.querySelector('.usa-map');
  var tooltipWrapper = document.querySelectorAll('.tooltip__wrapper');
  var posrtsMapInfo = document.querySelectorAll('.posrts-map__info');

  var toggleTab = function toggleTab(index) {
    for (var i = 0; i < posrtsMapInfo.length; i++) {
      if (index === i) {
        posrtsMapInfo[i].classList.add('active');
        tooltipWrapper[i].classList.add('active');
        tooltip[i].classList.add('active');
      } else {
        posrtsMapInfo[i].classList.remove('active');
        tooltipWrapper[i].classList.remove('active');
        tooltip[i].classList.remove('active');
      }
    }
  };

  map.addEventListener('mouseover', function (e) {
    var target = e.target.closest('.tooltip__wrapper');
    console.log(target);
    tooltipWrapper.forEach(function (item, i) {
      if (item === target) {
        toggleTab(i);
      }
    });
  });
};

ports();

var useAccordion = function useAccordion() {
  var accordionItem = document.querySelectorAll('.accordion__item');
  var contactsAccordionItem = document.querySelectorAll('.contacts-accordion__item');

  var open = function open(button, dropdown) {
    /* eslint-disable-next-line */
    closeAllDrops();
    /* eslint-disable-next-line */

    dropdown.style.height = "".concat(dropdown.scrollHeight + 20, "px");
    button.classList.add('active');
    dropdown.classList.add('active');
  };

  var close = function close(button, dropdown) {
    button.classList.remove('active');
    /* eslint-disable-next-line */

    dropdown.classList.remove('active');
    /* eslint-disable-next-line */

    dropdown.style.height = '';
  };

  var closeAllDrops = function closeAllDrops(button, dropDown) {
    /* eslint-disable-next-line */
    accordionItem.forEach(function (item) {
      if (item.children[0] !== button && item.children[1] !== dropDown) {
        close(item.children[0], item.children[1]);
      }
    });
    /* eslint-disable-next-line */

    contactsAccordionItem.forEach(function (item) {
      if (item.children[0] !== button && item.children[1] !== dropDown) {
        close(item.children[0], item.children[1]);
      }
    });
  };

  document.body.addEventListener('click', function (e) {
    /* eslint-disable-next-line */
    var target = e.target;
    console.log(target);

    if (target.closest('.accordion-title')) {
      var parent = target.closest('.accordion__item');
      var button = target.closest('.accardion-btn__wrapper');
      var dropdown = parent.querySelector('.accordion-description');
      /* eslint-disable-next-line */

      dropdown.classList.contains('active') ? close(button, dropdown) : open(button, dropdown);
    } else if (target.classList.contains('contacts-accordion__title')) {
      console.log('hi');

      var _parent = target.closest('.contacts-accordion__item');

      var _button = target.closest('.contacts-accordion__title');

      var _dropdown = _parent.querySelector('.contacts-accordion__description');
      /* eslint-disable-next-line */


      _dropdown.classList.contains('active') ? close(_button, _dropdown) : open(_button, _dropdown);
    }
  });
};

useAccordion();

var secrets = function secrets() {
  var secretsTab = document.querySelector('.secrets-header__tab');
  var secretsHeaderTabItem = document.querySelectorAll('.secrets-header__tab-item');
  var secretsContentItem = document.querySelectorAll('.secrets-content__item');

  var toggleTab = function toggleTab(index) {
    for (var i = 0; i < secretsContentItem.length; i++) {
      if (index === i) {
        secretsContentItem[i].classList.add('active');
        secretsHeaderTabItem[i].classList.add('active');
      } else {
        secretsContentItem[i].classList.remove('active');
        secretsHeaderTabItem[i].classList.remove('active');
      }
    }
  };

  secretsTab.addEventListener('click', function (e) {
    var target = e.target.closest('.secrets-header__tab-item');
    secretsHeaderTabItem.forEach(function (item, i) {
      if (item === target) {
        toggleTab(i);
      }
    });
  });
};

secrets();

var scrollTo = function scrollTo() {
  document.body.addEventListener('click', function (e) {
    if (e.target.closest('a[href^="#"]')) {
      e.preventDefault();
      var target = e.target.closest('a[href^="#"]').getAttribute('href');
      document.querySelector(target).scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }
  });
};

scrollTo(); // const hideElem = () => {
//   const widgets = document.querySelector('.widgets');
//   let bh = document.body.pageYOffset;
//   window.addEventListener('scroll', () => {
//    let test =  document.body.pageYOffset;
//     console.log(test);
//     if (bh <= 100) {
//       widgets.style.display = 'none';
//     } else {
//       widgets.style.display = 'flex';
//     }
//   })
// };
// hideElem();

app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.addLibs = {
  name: 'addLibs',
  description: 'connect the script library dynamically',
  addScriptFile: function addScriptFile(nameFile, callback) {
    var body = document.getElementsByTagName('body')[0];
    var script = document.createElement('script');

    script.onload = function () {
      return callback && callback();
    };

    script.src = "".concat(app.pathToLibsFiles, "/js/").concat(nameFile, ".js");
    body.appendChild(script);
  },
  addStyleFile: function addStyleFile(nameFile) {
    var appCss = document.getElementById('app-css');
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = "".concat(app.pathToLibsFiles, "/css/").concat(nameFile, ".css");
    appCss.before(link);
  },
  initScript: function initScript(nameFile, nameLib, callback) {
    var hasLibs = null;
    var scripts = document.querySelectorAll('script');
    scripts.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addScriptFile(nameFile, callback);
    } else {
      var timerId = setInterval(function () {
        if (window[nameLib] || window.jQuery && jQuery()[nameLib]) {
          callback();
          clearInterval(timerId);
        }
      }, 1);
    }
  },
  initStyle: function initStyle(nameFile) {
    var hasLibs = null;
    var link = document.querySelectorAll('link');
    link.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addStyleFile(nameFile);
    }
  }
}; // app.yourScriptName.init();
//# sourceMappingURL=app.min.js.map
